/**
 * FAQ Section - About Page
 * Pixel-perfect implementation based on Figma design
 */

// ============================================
// SECTION WRAPPER
// ============================================

.faq-section {
  padding: $space-64 0;
  background-color: $color-white;

  @include desktop {
    padding: $space-80 0;
  }
}

.faq-container {
  @include container;
  max-width: 1200px;
}

// ============================================
// LAYOUT - Two Column Grid
// ============================================

.faq-layout {
  display: flex;
  flex-direction: column;
  gap: $space-48;

  @include desktop {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: $space-64;
    align-items: start; // Начинаем с верха чтобы избежать прыжков
  }
}

// ============================================
// LEFT COLUMN - Header & Accordion
// ============================================

.faq-main {
  width: 100%;

  @include desktop {
    // Минимальная высота чтобы картинка не прыгала при переключении FAQ
    min-height: 600px;
  }
}

// Header
.faq-header {
  margin-bottom: $space-32;

  @include desktop {
    margin-bottom: $space-40;
  }
}

.faq-title {
  font-family: $font-heading;
  font-size: $font-size-32;
  font-weight: $font-weight-semibold;
  line-height: $line-height-tight;
  color: $color-gray-800;
  margin-bottom: $space-16;

  @include tablet-up {
    font-size: $font-size-40;
  }

  @include desktop {
    font-size: $font-size-48;
    margin-bottom: $space-20;
  }
}

.faq-description {
  font-family: $font-body;
  font-size: $font-size-14;
  line-height: 1.6;
  color: $color-gray-500;
  margin: 0;
  max-width: 480px;

  @include desktop {
    font-size: $font-size-16;
  }
}

// ============================================
// ACCORDION
// ============================================

.faq-accordion {
  display: flex;
  flex-direction: column;
  gap: $space-20;

  @include desktop {
    gap: $space-20;
  }
}

// ============================================
// FAQ ITEM - Individual Card
// ============================================

.faq-item {
  background-color: $color-white;
  border-radius: $radius-md;
  border: 0.5px solid $color-gray-300;
  overflow: hidden;
  transition: background-color $transition-base;

  &.is-active {
    background-color: $color-secondary;

    .faq-answer {
      max-height: 200px;
      opacity: 1;
      margin-top: $space-8;
    }

    .faq-icon-plus {
      opacity: 0;
      transform: rotate(90deg);
    }

    .faq-icon-minus {
      opacity: 1;
    }
  }
}

// ============================================
// FAQ QUESTION BUTTON
// ============================================

.faq-question {
  display: flex;
  align-items: flex-start;
  width: 100%;
  padding: $space-20;
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;

  @include tablet-up {
    padding: $space-24;
  }

  @include desktop {
    padding: $space-24 $space-28;
  }
}

// Number (01., 02., etc.)
.faq-number {
  font-family: $font-heading;
  font-size: 40px;
  font-weight: $font-weight-medium;
  line-height: 1;
  color: $color-gray-800;
  flex-shrink: 0;
  width: 56px;
  margin-right: $space-16;
  font-style: normal;
  // Без transition для мгновенного изменения italic

  // Italic когда родитель активен
  .faq-item.is-active & {
    font-style: italic;
  }
}

// Question Content Wrapper (question text + answer)
.faq-question-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-height: 40px;

  @include tablet-up {
    min-height: 48px;
  }

  @include desktop {
    min-height: 56px;
  }
}

// Question Text
.faq-question-text {
  display: block;
  font-family: $font-heading;
  font-size: $font-size-16;
  font-weight: $font-weight-semibold;
  line-height: 1.4;
  color: $color-primary;

  @include desktop {
    font-size: $font-size-18;
  }
}

// ============================================
// FAQ ANSWER
// ============================================

.faq-answer {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  margin-top: 0;
  transition:
    max-height $transition-base,
    opacity $transition-base,
    margin $transition-base;

  p {
    font-family: $font-body;
    font-size: $font-size-14;
    line-height: 1.5;
    color: $color-gray-700;
    margin: 0;

    @include desktop {
      font-size: $font-size-16;
    }
  }
}

// ============================================
// TOGGLE ICON
// ============================================

.faq-toggle {
  position: relative;
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  color: $color-primary;
  margin-left: $space-16;
  // Центрируем по высоте контента
  align-self: center;
  margin-top: 0;

  // На десктопе выравниваем по верху как в дизайне
  @include desktop {
    align-self: flex-start;
    margin-top: 16px;
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    transition:
      opacity $transition-base,
      transform $transition-base;
  }
}

.faq-icon-plus {
  opacity: 1;
}

.faq-icon-minus {
  opacity: 0;
}

// ============================================
// RIGHT COLUMN - IMAGE
// ============================================

.faq-image {
  width: 100%;
  border-radius: $radius-lg;
  overflow: hidden;
  height: 200px;

  @include tablet-up {
    height: 386px;
    border-radius: $radius-xl;
  }

  @include desktop {
    height: 736px;
    border-radius: 20px;
    top: 120px;
    align-self: stretch; // Растягиваем на всю высоту контейнера
    display: flex;
  }

  img {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;

    @include tablet {
      max-height: 500px;
    }

    @include desktop {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
}

// ============================================
// ANIMATIONS
// ============================================

.faq-header,
.faq-accordion,
.faq-image {
  &.animate-on-scroll {
    @include fade-in-up;
  }
}

.faq-item {
  @include stagger-delay(4, 100ms);
}
