function oe(){const e=document.getElementById("siteHeader"),n=document.querySelector(".hero-bg");if(!e)return;const i=20,s=24;if(!n){let o=function(){window.pageYOffset>50?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")};var l=o;e.style.transform=`translateY(${i}px)`,requestAnimationFrame(()=>{e.classList.add("is-ready")}),o(),window.addEventListener("scroll",o,{passive:!0});return}let a=0;function r(){const o=n.getBoundingClientRect();a=window.pageYOffset+o.top}function c(){const o=window.pageYOffset,d=a+s-o,u=Math.max(d,i);e.style.transform=`translateY(${u}px)`,u<=i?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")}r(),c(),requestAnimationFrame(()=>{e.classList.add("is-ready")}),window.addEventListener("resize",()=>{r(),c()},{passive:!0}),window.addEventListener("scroll",c,{passive:!0})}function ce(){const e=document.getElementById("menuToggle"),n=document.getElementById("mobileMenu"),i=document.querySelector(".header-inner");if(!e||!n||!i)return;function s(){const d=i.getBoundingClientRect().bottom+20;n.style.top=`${d}px`}s(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s,{passive:!0}),e.addEventListener("click",()=>{n.classList.contains("is-open")?c():r()}),n.querySelectorAll(".mobile-nav-link").forEach(l=>{l.addEventListener("click",c)}),document.addEventListener("click",l=>{!n.contains(l.target)&&!e.contains(l.target)&&c()}),document.addEventListener("keydown",l=>{l.key==="Escape"&&c()});function r(){s(),n.classList.add("is-open"),e.classList.add("is-open"),document.body.style.overflow="hidden"}function c(){n.classList.remove("is-open"),e.classList.remove("is-open"),document.body.style.overflow=""}}function le(){const e=document.querySelectorAll(".animate-on-scroll, .animate-stagger");if(!e.length)return;const n={root:null,rootMargin:"0px 0px -50px 0px",threshold:.1},i=(a,r)=>{a.forEach(c=>{c.isIntersecting&&(c.target.classList.add("is-visible"),r.unobserve(c.target))})},s=new IntersectionObserver(i,n);e.forEach(a=>{s.observe(a)})}function de(){const e=document.querySelector(".programs-grid");if(!e)return;const n=900;let i=!1;function s(){if(window.innerWidth>n){a();return}if(i)return;const o=Array.from(e.querySelectorAll(".program-card"));if(!o.length)return;const d=document.createElement("div");d.className="marquee-track",o.forEach(u=>{d.appendChild(u)}),o.forEach(u=>{const v=u.cloneNode(!0);v.classList.add("is-clone"),v.setAttribute("aria-hidden","true"),d.appendChild(v)}),e.appendChild(d),e.classList.add("marquee-active"),i=!0}function a(){if(!i)return;const o=e.querySelector(".marquee-track");if(!o)return;o.querySelectorAll(".program-card:not(.is-clone)").forEach(u=>{e.appendChild(u)}),o.remove(),e.classList.remove("marquee-active"),i=!1}function r(){e.addEventListener("mouseenter",()=>{if(window.innerWidth<=n){const o=e.querySelector(".marquee-track");o&&(o.style.animationPlayState="paused")}}),e.addEventListener("mouseleave",()=>{if(window.innerWidth<=n){const o=e.querySelector(".marquee-track");o&&(o.style.animationPlayState="running")}})}function c(){s(),r()}let l;window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{window.innerWidth>n?a():s()},200)}),setTimeout(c,50)}function ue(){const e=document.getElementById("hiwSteps"),n=document.getElementById("hiwImage"),i=document.getElementById("how-it-works");if(!e||!n||!i)return;const s=e.querySelectorAll(".hiw-step"),a=n.querySelectorAll("img");if(!s.length)return;let r=0,c=null,l=!1,o=!1;const d=6e3;function u(g){r=g,s.forEach((w,S)=>{w.classList.toggle("is-active",S===g)}),a.forEach((w,S)=>{w.classList.toggle("is-active",S===g),w.classList.toggle("is-hidden",S!==g)})}function v(){const g=(r+1)%s.length;u(g)}function m(){c&&clearInterval(c),o&&!l&&(c=setInterval(v,d))}function E(){c&&(clearInterval(c),c=null)}function y(){E(),m()}function b(){new IntersectionObserver(w=>{w.forEach(S=>{o=S.isIntersecting,o?m():E()})},{threshold:.3,rootMargin:"0px"}).observe(i)}function A(){s.forEach((g,w)=>{g.addEventListener("click",()=>{u(w),y()})}),e.addEventListener("mouseenter",()=>{l=!0,E()}),e.addEventListener("mouseleave",()=>{l=!1,m()}),n.addEventListener("mouseenter",()=>{l=!0,E()}),n.addEventListener("mouseleave",()=>{l=!1,m()}),b()}A()}function fe(){const e=document.querySelector(".app-showcase"),n=document.querySelectorAll(".phone-screen"),i=document.querySelectorAll(".screen-cards");document.querySelectorAll(".feature-card, .feature-badge");const s=document.querySelector(".app-nav-btn.prev-btn"),a=document.querySelector(".app-nav-btn.next-btn");if(!e||!n.length)return;let r=1;const c=3;function l(){const q=Array.from(n).map(L=>L.querySelector("img")).map(L=>new Promise(x=>{L.complete?x():(L.addEventListener("load",x),L.addEventListener("error",x))}));Promise.all(q).then(()=>{e.style.opacity="1"})}e.style.opacity="0",e.style.transition="opacity 0.3s ease",l();function o(h,q=!0){h<1||h>c||h!==r&&(r=h,e.setAttribute("data-active-screen",h),n.forEach(L=>{parseInt(L.dataset.screen)===h?L.classList.add("active"):L.classList.remove("active")}),i.forEach(L=>{parseInt(L.dataset.screenCards)===h?L.classList.add("active"):L.classList.remove("active")}),d())}function d(){s&&(s.disabled=r===1),a&&(a.disabled=r===c)}function u(){r<c&&o(r+1)}function v(){r>1&&o(r-1)}function m(h,q){const L=document.createElement("span"),x=h.getBoundingClientRect(),C=Math.max(x.width,x.height),I=q.clientX-x.left-C/2,H=q.clientY-x.top-C/2;L.style.cssText=`
      position: absolute;
      width: ${C}px;
      height: ${C}px;
      left: ${I}px;
      top: ${H}px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      transform: scale(0);
      animation: ripple 0.6s ease-out;
      pointer-events: none;
    `,h.style.position="relative",h.style.overflow="hidden",h.appendChild(L),setTimeout(()=>L.remove(),600)}s&&s.addEventListener("click",h=>{m(s,h),v()}),a&&a.addEventListener("click",h=>{m(a,h),u()});let E=!1;new IntersectionObserver(h=>{h.forEach(q=>{E=q.isIntersecting})},{threshold:.3}).observe(e),document.addEventListener("keydown",h=>{E&&(h.key==="ArrowLeft"||h.key==="ArrowUp"?(h.preventDefault(),v()):h.key==="ArrowRight"||h.key==="ArrowDown"?(h.preventDefault(),u()):h.key>="1"&&h.key<="3"&&(h.preventDefault(),o(parseInt(h.key))))});let b=0,A=0,g=0,w=0;e.addEventListener("touchstart",h=>{b=h.changedTouches[0].screenX,A=h.changedTouches[0].screenY},{passive:!0}),e.addEventListener("touchend",h=>{g=h.changedTouches[0].screenX,w=h.changedTouches[0].screenY,S()},{passive:!0});function S(){const q=b-g,L=A-w;Math.abs(q)>Math.abs(L)&&Math.abs(q)>50&&(q>0?u():v())}const k=document.createElement("style");k.textContent=`
    @keyframes ripple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }
  `,document.head.appendChild(k),o(1,!1)}function me(){const e=document.getElementById("testimonialsSlider");if(!e)return;const n=e.querySelector(".testimonials-slides"),i=Array.from(e.querySelectorAll(".testimonial-slide")),s=Array.from(document.querySelectorAll(".testimonial-nav-item")),a=document.querySelector(".testimonials-nav-track"),r=document.querySelector(".testimonials-nav");if(!i.length)return;let c=Math.floor(i.length/2),l=null;const o=6e3;let d=0,u=0,v=0,m=0,E=0,y=!1,b=0,A=!1,g=0;function w(){k(c,!1),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.mozUserSelect="none",n.style.msUserSelect="none",s.forEach((t,f)=>{t.addEventListener("click",()=>{k(f),D()})}),e.addEventListener("touchstart",I,{passive:!0}),e.addEventListener("touchmove",H,{passive:!1}),e.addEventListener("touchend",Y,{passive:!0}),e.addEventListener("mousedown",W),e.addEventListener("mousemove",V),e.addEventListener("mouseup",_),e.addEventListener("mouseleave",_),r&&(r.addEventListener("touchstart",G,{passive:!0}),r.addEventListener("touchmove",R,{passive:!1}),r.addEventListener("touchend",Q,{passive:!0}),r.addEventListener("mousedown",ee),r.addEventListener("mousemove",te),r.addEventListener("mouseup",K),r.addEventListener("mouseleave",K),r.style.cursor="grab"),e.addEventListener("dragstart",t=>t.preventDefault()),r&&r.addEventListener("dragstart",t=>t.preventDefault()),document.addEventListener("keydown",ne),N(),e.addEventListener("mouseenter",J),e.addEventListener("mouseleave",j),S()}function S(){if(!a||!r)return;const t=r.offsetWidth,f=a.scrollWidth;u=0,v=Math.min(0,t-f),d=Math.max(v,Math.min(u,d))}function k(t,f=!0){c=t,L(),s.forEach((p,T)=>{p.classList.toggle("is-active",T===t)}),h()}function h(){if(!a||!r||s.length===0)return;S();const t=r.offsetWidth,f=s[c];if(!f)return;const p=f.offsetLeft,T=f.offsetWidth,M=p+T/2,B=t/2-M;d=Math.max(v,Math.min(u,B)),a.style.transform=`translateX(${d}px)`}function q(){a&&(a.style.transform=`translateX(${d}px)`)}function L(){i.forEach((t,f)=>{t.classList.remove("is-active","is-prev","is-next","is-far-prev","is-far-next");const p=f-c;p===0?t.classList.add("is-active"):p===-1||c===0&&f===i.length-1?t.classList.add("is-prev"):p===1||c===i.length-1&&f===0?t.classList.add("is-next"):p<-1?t.classList.add("is-far-prev"):p>1&&t.classList.add("is-far-next")})}function x(){const t=(c+1)%i.length;k(t)}function C(){const t=(c-1+i.length)%i.length;k(t)}function I(t){t.target.closest(".testimonials-nav")||(m=t.changedTouches[0].screenX,y=!0)}function H(t){y&&(t.target.closest(".testimonials-nav")||Math.abs(t.changedTouches[0].screenX-m)>10&&t.preventDefault())}function Y(t){y&&(t.target.closest(".testimonials-nav")||(E=t.changedTouches[0].screenX,X(),y=!1))}function W(t){t.target.closest(".testimonials-nav")||(t.preventDefault(),m=t.clientX,y=!0,e.style.cursor="grabbing",document.body.style.userSelect="none")}function V(t){y&&t.preventDefault()}function _(t){y&&(E=t.clientX,X(),y=!1,e.style.cursor="grab",document.body.style.userSelect="")}function X(){const t=m-E,f=50;t>f?(x(),D()):t<-f&&(C(),D())}function G(t){S(),!(v>=0)&&(b=t.changedTouches[0].clientX,g=d,A=!0,a&&a.classList.add("is-dragging"),t.stopPropagation())}function R(t){if(!A)return;const p=t.changedTouches[0].clientX-b;d=g+p,d>u?d=u+(d-u)*.3:d<v&&(d=v+(d-v)*.3),q(),Math.abs(p)>10&&(t.preventDefault(),t.stopPropagation())}function Q(t){A&&(a&&a.classList.remove("is-dragging"),d=Math.max(v,Math.min(u,d)),q(),A=!1,t.stopPropagation())}function ee(t){S(),!(v>=0)&&(t.preventDefault(),t.stopPropagation(),b=t.clientX,g=d,A=!0,a&&a.classList.add("is-dragging"),r.style.cursor="grabbing",document.body.style.userSelect="none")}function te(t){if(!A)return;t.preventDefault(),t.stopPropagation();const p=t.clientX-b;d=g+p,d>u?d=u+(d-u)*.3:d<v&&(d=v+(d-v)*.3),q()}function K(t){A&&(t.stopPropagation(),a&&a.classList.remove("is-dragging"),d=Math.max(v,Math.min(u,d)),q(),A=!1,r.style.cursor="grab",document.body.style.userSelect="")}function ne(t){!e.matches(":hover")&&document.activeElement.closest(".testimonials-section")===null||(t.key==="ArrowLeft"?(C(),D()):t.key==="ArrowRight"&&(x(),D()))}function N(){l||(l=setInterval(x,o))}function J(){l&&(clearInterval(l),l=null)}function j(){N()}function D(){J(),N()}let P;window.addEventListener("resize",()=>{clearTimeout(P),P=setTimeout(()=>{S(),h(),k(c,!1)},250)}),e.style.cursor="grab",w()}function ve(){he("#valuesAccordion",".value-header"),pe()}function he(e,n,i){const s=document.querySelector(e);if(!s)return;const a=s.querySelectorAll(n);a.forEach(r=>{r.addEventListener("click",()=>{const c=r.getAttribute("aria-expanded")==="true",l=r.nextElementSibling;a.forEach(o=>{o.setAttribute("aria-expanded","false"),o.nextElementSibling.classList.remove("is-open")}),c||(r.setAttribute("aria-expanded","true"),l.classList.add("is-open"))})})}function pe(){const e=document.querySelector("#faqAccordion");if(!e)return;const n=e.querySelectorAll(".faq-item");e.querySelectorAll(".faq-question").forEach((s,a)=>{s.addEventListener("click",()=>{const r=n[a],c=r.classList.contains("is-active");n.forEach(l=>{l.classList.remove("is-active"),l.querySelector(".faq-question").setAttribute("aria-expanded","false")}),c||(r.classList.add("is-active"),s.setAttribute("aria-expanded","true"))})})}function ge(){Le(),we(),be()}const ye={name:{validate:e=>e.trim()?e.trim().length<2?"Name must be at least 2 characters.":e.trim().length>100?"Name is too long.":null:"Please enter your name."},contact:{validate:e=>{if(!e.trim())return"Please enter your phone number or email.";const i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),s=e.replace(/[\s\-\(\)\+]/g,""),a=/^[0-9]{7,15}$/.test(s);return!i&&!a?"Please enter a valid email or phone number.":null}},message:{validate:e=>e&&e.length>2e3?"Message is too long (max 2000 characters).":null}};function ie(e,n){const i=e.closest(".swb-form-group");if(!i)return;Z(e),e.classList.add("is-error");const s=document.createElement("span");s.className="swb-field-error",s.textContent=n,i.appendChild(s)}function Z(e){const n=e.closest(".swb-form-group");if(!n)return;e.classList.remove("is-error");const i=n.querySelector(".swb-field-error");i&&i.remove()}function ae(e){const n=e.name,i=ye[n];if(!i)return!0;const s=i.validate(e.value);return s?(ie(e,s),!1):(Z(e),!0)}function Ee(e){const n=e.querySelectorAll(".swb-input, .swb-textarea");let i=!0,s=null;return n.forEach(a=>{!ae(a)&&i&&(i=!1,s=a)}),s&&s.focus(),i}function Le(){const e=document.getElementById("shareWithBalanzForm"),n=e==null?void 0:e.closest(".swb-card");if(!e||!n)return;e.querySelectorAll(".swb-input, .swb-textarea").forEach(s=>{s.addEventListener("blur",()=>{(s.value||s.dataset.touched)&&ae(s)}),s.addEventListener("focus",()=>{s.dataset.touched="true"}),s.addEventListener("input",()=>{s.classList.contains("is-error")&&Z(s)})}),e.addEventListener("submit",async s=>{var l,o,d,u;if(s.preventDefault(),!Ee(e))return;const a=new FormData(e),r=e.querySelector(".swb-submit"),c=r.innerHTML;r.disabled=!0,r.innerHTML=`
      <span>Sending...</span>
      <span class="swb-submit-spinner"></span>
    `;try{const v=new URLSearchParams;v.append("action","balanz_share_form"),v.append("nonce",((l=window.balanzData)==null?void 0:l.nonce)||""),v.append("name",a.get("name")),v.append("contact",a.get("contact")),v.append("message",a.get("message")||""),v.append("subscribe",a.get("subscribe")?"true":"false");const E=await(await fetch(((o=window.balanzData)==null?void 0:o.ajaxUrl)||"/wp-admin/admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:v.toString()})).json();if(E.success)n.classList.add("is-success"),e.reset(),e.querySelectorAll(".swb-input, .swb-textarea").forEach(y=>{y.classList.remove("is-active","is-filled","is-error"),delete y.dataset.touched}),e.querySelectorAll(".swb-field-error").forEach(y=>y.remove());else if((d=E.data)!=null&&d.errors){Object.entries(E.data.errors).forEach(([b,A])=>{const g=e.querySelector(`[name="${b}"]`);g&&ie(g,A)});const y=e.querySelector(".is-error");y&&y.focus()}else se(e,((u=E.data)==null?void 0:u.message)||"Something went wrong. Please try again.","error")}catch(v){console.error("Form submission error:",v),se(e,"Network error. Please check your connection and try again.","error")}finally{r.disabled=!1,r.innerHTML=c}})}function se(e,n,i="error"){const s=e.querySelector(".swb-form-message");s&&s.remove();const a=document.createElement("div");a.className=`swb-form-message swb-form-message--${i}`,a.textContent=n;const r=e.querySelector(".swb-submit");r?r.parentNode.insertBefore(a,r):e.appendChild(a),setTimeout(()=>{a.remove()},5e3)}function we(){document.querySelectorAll(".swb-input-clear").forEach(n=>{n.addEventListener("click",()=>{const i=n.closest(".swb-input-wrapper"),s=i==null?void 0:i.querySelector(".swb-input");s&&(s.value="",s.classList.remove("is-filled","is-active"),Z(s),s.focus(),s.dispatchEvent(new Event("input",{bubbles:!0})))})})}function be(){document.querySelectorAll(".swb-input").forEach(n=>{n.addEventListener("focus",()=>{n.value.trim()&&n.classList.add("is-active")}),n.addEventListener("blur",()=>{n.classList.remove("is-active"),n.value.trim()?n.classList.add("is-filled"):n.classList.remove("is-filled")}),n.addEventListener("input",()=>{document.activeElement===n&&n.value.trim()?n.classList.add("is-active"):n.value.trim()||n.classList.remove("is-active")}),n.value.trim()&&n.classList.add("is-filled")})}function Se(){const e=document.querySelector(".cta-section");if(!e)return;const n=e.querySelectorAll(".cta-phone");let i=!1;new IntersectionObserver(l=>{l.forEach(o=>{o.isIntersecting&&!i&&(a(),i=!0)})},{threshold:.3,rootMargin:"0px 0px -100px 0px"}).observe(e);function a(){n.forEach((l,o)=>{const d=l.getAttribute("data-phone");let u=0;d==="left"?u=100:d==="right"?u=200:d==="center"?u=400:d==="center-right"&&(u=300),setTimeout(()=>{l.classList.add("animate-in")},u)})}let r=!1;function c(){const o=1-e.getBoundingClientRect().top/window.innerHeight;o>0&&o<1&&n.forEach(d=>{const u=d.getAttribute("data-phone");let v=0,m=0;u==="left"?v=o*20-20:u==="right"?v=-(o*20-20):u==="center"?m=o*15-15:u==="center-right"&&(v=-(o*15-15),m=o*10-10),d.classList.contains("animate-in")&&(u==="center"?d.style.transform=`translateY(${m}px) rotate(-10deg)`:u==="center-right"?d.style.transform=`translate(${v}px, calc(-50% + ${m}px))`:d.style.transform=`translate(${v}px, -50%)`)}),r=!1}window.addEventListener("scroll",()=>{!r&&i&&(window.requestAnimationFrame(c),r=!0)})}function Ae(){const e=document.getElementById("philosophyVideoContainer"),n=document.getElementById("philosophyVideo"),i=document.getElementById("playPhilosophyVideo"),s=document.getElementById("videoEmbedPlaceholder");if(!i||!e)return;const a=e.dataset.videoUrl;if(a&&s){i.addEventListener("click",c=>{c.preventDefault(),qe(a,e,i,s)});return}if(!n){i.addEventListener("click",c=>{c.preventDefault(),i.classList.add("is-hidden")});return}const r=()=>{n.paused?(n.play(),i.classList.add("is-hidden")):(n.pause(),i.classList.remove("is-hidden"))};i.addEventListener("click",c=>{c.preventDefault(),r()}),n.addEventListener("click",r),n.addEventListener("ended",()=>{i.classList.remove("is-hidden"),n.currentTime=0}),n.addEventListener("pause",()=>{i.classList.remove("is-hidden")}),n.addEventListener("play",()=>{i.classList.add("is-hidden")}),e==null||e.addEventListener("keydown",c=>{(c.key===" "||c.key==="Enter")&&(c.preventDefault(),r())})}function qe(e,n,i,s){const a=xe(e);if(!a){console.warn("Unsupported video URL:",e);return}const r=document.createElement("iframe");r.src=a,r.width="100%",r.height="100%",r.frameBorder="0",r.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",r.allowFullscreen=!0,r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.borderRadius="inherit",s.style.display="none",i.classList.add("is-hidden"),n.appendChild(r)}function xe(e){const n=e.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);if(n)return`https://www.youtube.com/embed/${n[1]}?autoplay=1&rel=0`;const i=e.match(/(?:vimeo\.com\/|player\.vimeo\.com\/video\/)(\d+)/);if(i)return`https://player.vimeo.com/video/${i[1]}?autoplay=1`;if(e.includes("youtube.com/embed/")||e.includes("player.vimeo.com/video/")){const s=e.includes("?")?"&":"?";return e+s+"autoplay=1"}return null}function Te(){const e=document.getElementById("viaSteps"),n=document.getElementById("viaImage"),i=document.getElementById("values-in-action");if(!e||!n||!i)return;const s=e.querySelectorAll(".via-step"),a=n.querySelectorAll("img");if(!s.length)return;let r=0,c=null,l=!1,o=!1;const d=6e3;function u(g){r=g,s.forEach((w,S)=>{w.classList.toggle("is-active",S===g)}),a.forEach((w,S)=>{w.classList.toggle("is-active",S===g),w.classList.toggle("is-hidden",S!==g)})}function v(){const g=(r+1)%s.length;u(g)}function m(){c&&clearInterval(c),o&&!l&&(c=setInterval(v,d))}function E(){c&&(clearInterval(c),c=null)}function y(){E(),m()}function b(){new IntersectionObserver(w=>{w.forEach(S=>{o=S.isIntersecting,o?m():E()})},{threshold:.3,rootMargin:"0px"}).observe(i)}function A(){s.forEach((g,w)=>{g.addEventListener("click",()=>{u(w),y()})}),e.addEventListener("mouseenter",()=>{l=!0,E()}),e.addEventListener("mouseleave",()=>{l=!1,m()}),n.addEventListener("mouseenter",()=>{l=!0,E()}),n.addEventListener("mouseleave",()=>{l=!1,m()}),b()}A()}function Me(){const e=document.getElementById("teamSlider");if(!e)return;let n=[];try{const t=e.dataset.members;t&&(n=JSON.parse(t))}catch(t){console.error("Team: Failed to parse members data",t);return}if(!n.length)return;const i=e.querySelector(".team-cards"),s=e.querySelector(".team-card--active"),a=e.querySelector(".team-card--back-1"),r=e.querySelector(".team-card--back-2");if(!s||!i)return;const c=Array.from(document.querySelectorAll(".team-nav-item")),l=document.querySelector(".team-nav-track"),o=document.querySelector(".team-nav"),d=n.length;let u=0,v=null,m=0,E=0,y=0,b=!1,A=0,g=0,w=0;S();function S(){const t=()=>{x(()=>{I(s,n[0]),I(a,n[L(1)]),I(r,n[L(2)]),Y(),Q(),j(),q()})};document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{requestAnimationFrame(()=>{requestAnimationFrame(t)})}):requestAnimationFrame(()=>{requestAnimationFrame(t)})}let k=null,h=0;function q(){window.ResizeObserver&&(h=s.offsetWidth,k=new ResizeObserver(t=>{for(const f of t){const p=f.contentRect.width;Math.abs(p-h)>1&&(h=p,x())}}),k.observe(s))}function L(t){return(t%d+d)%d}function x(t){const f=document.createElement("div");f.style.cssText=`
      position: absolute;
      visibility: hidden;
      pointer-events: none;
      width: ${s.offsetWidth}px;
      left: -9999px;
      top: 0;
    `,document.body.appendChild(f);const p=s.querySelector(".team-card-inner").cloneNode(!0);p.style.height="auto",f.appendChild(p);let T=0;n.forEach(M=>{const B=p.querySelector(".js-avatar"),U=p.querySelector(".js-name"),F=p.querySelector(".js-role"),$=p.querySelector(".js-quote"),O=p.querySelector(".js-bio");B&&(B.src=M.avatar),U&&(U.textContent=M.name),F&&(F.textContent=M.role),$&&($.textContent=M.quote),O&&(O.textContent=M.bio);const z=p.offsetHeight;z>T&&(T=z)}),document.body.removeChild(f),w=T+20,C(),t&&t()}function C(){[s,a,r].filter(Boolean).forEach(T=>{const M=T.querySelector(".team-card-inner");M&&(M.style.height=`${w}px`)});const p=window.innerWidth>=1024?80:35;i.style.height=`${w+p}px`}function I(t,f){if(!t||!f)return;const p=t.querySelector(".js-avatar"),T=t.querySelector(".js-name"),M=t.querySelector(".js-role"),B=t.querySelector(".js-quote"),U=t.querySelector(".js-bio"),F=t.querySelector(".js-social");p&&(p.src=f.avatar,p.alt=f.name),T&&(T.textContent=f.name),M&&(M.textContent=f.role),B&&(B.textContent=f.quote),U&&(U.textContent=f.bio),F&&(F.innerHTML="",f.social&&f.social.length&&f.social.forEach($=>{const O=document.createElement("a");O.href=$.url,O.target="_blank",O.rel="noopener",O.className="team-social-link";const z=document.createElement("img");z.src=$.icon,z.alt=$.type,O.appendChild(z),F.appendChild(O)}))}function H(){s.classList.add("is-changing"),a&&a.classList.add("is-changing"),r&&r.classList.add("is-changing"),setTimeout(()=>{I(s,n[u]),I(a,n[L(u+1)]),I(r,n[L(u+2)]),requestAnimationFrame(()=>{s.classList.remove("is-changing"),a&&a.classList.remove("is-changing"),r&&r.classList.remove("is-changing")})},200)}function Y(){c.forEach((t,f)=>{t.classList.toggle("is-active",f===u)}),G()}function W(t){const f=L(t);f!==u&&(u=f,H(),Y())}function V(){W(u+1)}function _(){W(u-1)}function X(){if(!l||!o)return;const t=o.offsetWidth,f=l.scrollWidth;E=0,y=Math.min(0,t-f),m=Math.max(y,Math.min(E,m))}function G(){if(!l||!o||c.length===0)return;X();const t=o.offsetWidth,f=c[u];if(!f)return;const p=f.offsetLeft,T=f.offsetWidth,M=p+T/2,B=t/2-M;m=Math.max(y,Math.min(E,B)),l.style.transform=`translateX(${m}px)`}function R(){l&&(l.style.transform=`translateX(${m}px)`)}function Q(){a&&a.addEventListener("click",()=>{V(),P()}),r&&r.addEventListener("click",()=>{W(u+2),P()}),c.forEach((f,p)=>{f.addEventListener("click",T=>{Math.abs(m-g)>5&&b||(W(p),P())})}),o&&(o.addEventListener("touchstart",ee,{passive:!0}),o.addEventListener("touchmove",te,{passive:!1}),o.addEventListener("touchend",K,{passive:!0}),o.addEventListener("mousedown",ne),document.addEventListener("mousemove",N),document.addEventListener("mouseup",J),o.addEventListener("dragstart",f=>f.preventDefault())),document.addEventListener("keydown",f=>{e.matches(":hover")&&(f.key==="ArrowRight"&&(V(),P()),f.key==="ArrowLeft"&&(_(),P()))}),e.addEventListener("mouseenter",D),e.addEventListener("mouseleave",j);let t;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{X(),G(),window.ResizeObserver||x()},250)})}function ee(t){X(),!(y>=0)&&(A=t.changedTouches[0].clientX,g=m,b=!0,l&&l.classList.add("is-dragging"))}function te(t){if(!b)return;const p=t.changedTouches[0].clientX-A;m=g+p,m>E?m=E+(m-E)*.3:m<y&&(m=y+(m-y)*.3),R(),Math.abs(p)>10&&t.preventDefault()}function K(){b&&(l&&l.classList.remove("is-dragging"),m=Math.max(y,Math.min(E,m)),R(),b=!1)}function ne(t){X(),!(y>=0)&&(t.preventDefault(),A=t.clientX,g=m,b=!0,l&&l.classList.add("is-dragging"),o&&o.classList.add("is-grabbing"),document.body.style.userSelect="none")}function N(t){if(!b)return;t.preventDefault();const p=t.clientX-A;m=g+p,m>E?m=E+(m-E)*.3:m<y&&(m=y+(m-y)*.3),R()}function J(){b&&(l&&l.classList.remove("is-dragging"),o&&o.classList.remove("is-grabbing"),m=Math.max(y,Math.min(E,m)),R(),setTimeout(()=>{b=!1},50),document.body.style.userSelect="")}function j(){v||(v=setInterval(V,6e3))}function D(){clearInterval(v),v=null}function P(){D(),j()}}function re(){oe(),ce(),le(),de(),ue(),fe(),me(),ve(),ge(),Se(),Ae(),Te(),Me()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",re):re();window.addEventListener("load",()=>{window.dispatchEvent(new Event("scroll"))});
