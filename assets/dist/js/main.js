function oe(){const e=document.getElementById("siteHeader"),t=document.querySelector(".hero-bg");if(!e)return;const i=20,s=14;if(!t){let o=function(){window.pageYOffset>50?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")};var l=o;e.style.transform=`translateY(${i}px)`,requestAnimationFrame(()=>{e.classList.add("is-ready")}),o(),window.addEventListener("scroll",o,{passive:!0});return}let a=0;function r(){const o=t.getBoundingClientRect();a=window.pageYOffset+o.top}function c(){const o=window.pageYOffset,u=a+s-o,d=Math.max(u,i);e.style.transform=`translateY(${d}px)`,d<=i?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")}r(),c(),requestAnimationFrame(()=>{e.classList.add("is-ready")}),window.addEventListener("resize",()=>{r(),c()},{passive:!0}),window.addEventListener("scroll",c,{passive:!0})}function ce(){const e=document.getElementById("menuToggle"),t=document.getElementById("mobileMenu"),i=document.querySelector(".header-inner");if(!e||!t||!i)return;function s(){const u=i.getBoundingClientRect().bottom+20;t.style.top=`${u}px`}s(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s,{passive:!0}),e.addEventListener("click",()=>{t.classList.contains("is-open")?c():r()}),t.querySelectorAll(".mobile-nav-link").forEach(l=>{l.addEventListener("click",c)}),document.addEventListener("click",l=>{!t.contains(l.target)&&!e.contains(l.target)&&c()}),document.addEventListener("keydown",l=>{l.key==="Escape"&&c()});function r(){s(),t.classList.add("is-open"),e.classList.add("is-open"),document.body.style.overflow="hidden"}function c(){t.classList.remove("is-open"),e.classList.remove("is-open"),document.body.style.overflow=""}}function le(){const e=document.querySelectorAll(".animate-on-scroll, .animate-stagger");if(!e.length)return;const t={root:null,rootMargin:"0px 0px -50px 0px",threshold:.1},i=(a,r)=>{a.forEach(c=>{c.isIntersecting&&(c.target.classList.add("is-visible"),r.unobserve(c.target))})},s=new IntersectionObserver(i,t);e.forEach(a=>{s.observe(a)})}function de(){const e=document.querySelector(".programs-grid");if(!e)return;const t=900;let i=!1;function s(){if(window.innerWidth>t){a();return}if(i)return;const o=Array.from(e.querySelectorAll(".program-card"));if(!o.length)return;const u=document.createElement("div");u.className="marquee-track",o.forEach(d=>{u.appendChild(d)}),o.forEach(d=>{const v=d.cloneNode(!0);v.classList.add("is-clone"),v.setAttribute("aria-hidden","true"),u.appendChild(v)}),e.appendChild(u),e.classList.add("marquee-active"),i=!0}function a(){if(!i)return;const o=e.querySelector(".marquee-track");if(!o)return;o.querySelectorAll(".program-card:not(.is-clone)").forEach(d=>{e.appendChild(d)}),o.remove(),e.classList.remove("marquee-active"),i=!1}function r(){e.addEventListener("mouseenter",()=>{if(window.innerWidth<=t){const o=e.querySelector(".marquee-track");o&&(o.style.animationPlayState="paused")}}),e.addEventListener("mouseleave",()=>{if(window.innerWidth<=t){const o=e.querySelector(".marquee-track");o&&(o.style.animationPlayState="running")}})}function c(){s(),r()}let l;window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{window.innerWidth>t?a():s()},200)}),c()}function ue(){const e=document.getElementById("hiwSteps"),t=document.getElementById("hiwImage"),i=document.getElementById("how-it-works");if(!e||!t||!i)return;const s=e.querySelectorAll(".hiw-step"),a=t.querySelectorAll("img");if(!s.length)return;let r=0,c=null,l=!1,o=!1;const u=6e3;function d(g){r=g,s.forEach((w,S)=>{w.classList.toggle("is-active",S===g)}),a.forEach((w,S)=>{w.classList.toggle("is-active",S===g),w.classList.toggle("is-hidden",S!==g)})}function v(){const g=(r+1)%s.length;d(g)}function m(){c&&clearInterval(c),o&&!l&&(c=setInterval(v,u))}function E(){c&&(clearInterval(c),c=null)}function y(){E(),m()}function b(){new IntersectionObserver(w=>{w.forEach(S=>{o=S.isIntersecting,o?m():E()})},{threshold:.3,rootMargin:"0px"}).observe(i)}function A(){s.forEach((g,w)=>{g.addEventListener("click",()=>{d(w),y()})}),e.addEventListener("mouseenter",()=>{l=!0,E()}),e.addEventListener("mouseleave",()=>{l=!1,m()}),t.addEventListener("mouseenter",()=>{l=!0,E()}),t.addEventListener("mouseleave",()=>{l=!1,m()}),b()}A()}function fe(){const e=document.querySelector(".app-showcase"),t=document.querySelectorAll(".phone-screen"),i=document.querySelectorAll(".screen-cards");document.querySelectorAll(".feature-card, .feature-badge");const s=document.querySelector(".app-nav-btn.prev-btn"),a=document.querySelector(".app-nav-btn.next-btn");if(!e||!t.length)return;let r=1;const c=3;function l(){const q=Array.from(t).map(L=>L.querySelector("img")).map(L=>new Promise(x=>{L.complete?x():(L.addEventListener("load",x),L.addEventListener("error",x))}));Promise.all(q).then(()=>{e.style.opacity="1"})}e.style.opacity="0",e.style.transition="opacity 0.3s ease",l();function o(h,q=!0){h<1||h>c||h!==r&&(r=h,e.setAttribute("data-active-screen",h),t.forEach(L=>{parseInt(L.dataset.screen)===h?L.classList.add("active"):L.classList.remove("active")}),i.forEach(L=>{parseInt(L.dataset.screenCards)===h?L.classList.add("active"):L.classList.remove("active")}),u())}function u(){s&&(s.disabled=r===1),a&&(a.disabled=r===c)}function d(){r<c&&o(r+1)}function v(){r>1&&o(r-1)}function m(h,q){const L=document.createElement("span"),x=h.getBoundingClientRect(),C=Math.max(x.width,x.height),I=q.clientX-x.left-C/2,H=q.clientY-x.top-C/2;L.style.cssText=`
      position: absolute;
      width: ${C}px;
      height: ${C}px;
      left: ${I}px;
      top: ${H}px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      transform: scale(0);
      animation: ripple 0.6s ease-out;
      pointer-events: none;
    `,h.style.position="relative",h.style.overflow="hidden",h.appendChild(L),setTimeout(()=>L.remove(),600)}s&&s.addEventListener("click",h=>{m(s,h),v()}),a&&a.addEventListener("click",h=>{m(a,h),d()});let E=!1;new IntersectionObserver(h=>{h.forEach(q=>{E=q.isIntersecting})},{threshold:.3}).observe(e),document.addEventListener("keydown",h=>{E&&(h.key==="ArrowLeft"||h.key==="ArrowUp"?(h.preventDefault(),v()):h.key==="ArrowRight"||h.key==="ArrowDown"?(h.preventDefault(),d()):h.key>="1"&&h.key<="3"&&(h.preventDefault(),o(parseInt(h.key))))});let b=0,A=0,g=0,w=0;e.addEventListener("touchstart",h=>{b=h.changedTouches[0].screenX,A=h.changedTouches[0].screenY},{passive:!0}),e.addEventListener("touchend",h=>{g=h.changedTouches[0].screenX,w=h.changedTouches[0].screenY,S()},{passive:!0});function S(){const q=b-g,L=A-w;Math.abs(q)>Math.abs(L)&&Math.abs(q)>50&&(q>0?d():v())}const k=document.createElement("style");k.textContent=`
    @keyframes ripple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }
  `,document.head.appendChild(k),o(1,!1)}function me(){const e=document.getElementById("testimonialsSlider");if(!e)return;const t=e.querySelector(".testimonials-slides"),i=Array.from(e.querySelectorAll(".testimonial-slide")),s=Array.from(document.querySelectorAll(".testimonial-nav-item")),a=document.querySelector(".testimonials-nav-track"),r=document.querySelector(".testimonials-nav");if(!i.length)return;let c=Math.floor(i.length/2),l=null;const o=6e3;let u=0,d=0,v=0,m=0,E=0,y=!1,b=0,A=!1,g=0;function w(){k(c,!1),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.mozUserSelect="none",t.style.msUserSelect="none",s.forEach((n,f)=>{n.addEventListener("click",()=>{k(f),P()})}),e.addEventListener("touchstart",I,{passive:!0}),e.addEventListener("touchmove",H,{passive:!1}),e.addEventListener("touchend",U,{passive:!0}),e.addEventListener("mousedown",W),e.addEventListener("mousemove",V),e.addEventListener("mouseup",_),e.addEventListener("mouseleave",_),r&&(r.addEventListener("touchstart",G,{passive:!0}),r.addEventListener("touchmove",R,{passive:!1}),r.addEventListener("touchend",Q,{passive:!0}),r.addEventListener("mousedown",ee),r.addEventListener("mousemove",te),r.addEventListener("mouseup",K),r.addEventListener("mouseleave",K),r.style.cursor="grab"),e.addEventListener("dragstart",n=>n.preventDefault()),r&&r.addEventListener("dragstart",n=>n.preventDefault()),document.addEventListener("keydown",ne),Y(),e.addEventListener("mouseenter",J),e.addEventListener("mouseleave",N),S()}function S(){if(!a||!r)return;const n=r.offsetWidth,f=a.scrollWidth;d=0,v=Math.min(0,n-f),u=Math.max(v,Math.min(d,u))}function k(n,f=!0){c=n,L(),s.forEach((p,M)=>{p.classList.toggle("is-active",M===n)}),h()}function h(){if(!a||!r||s.length===0)return;S();const n=r.offsetWidth,f=s[c];if(!f)return;const p=f.offsetLeft,M=f.offsetWidth,T=p+M/2,B=n/2-T;u=Math.max(v,Math.min(d,B)),a.style.transform=`translateX(${u}px)`}function q(){a&&(a.style.transform=`translateX(${u}px)`)}function L(){i.forEach((n,f)=>{n.classList.remove("is-active","is-prev","is-next","is-far-prev","is-far-next");const p=f-c;p===0?n.classList.add("is-active"):p===-1||c===0&&f===i.length-1?n.classList.add("is-prev"):p===1||c===i.length-1&&f===0?n.classList.add("is-next"):p<-1?n.classList.add("is-far-prev"):p>1&&n.classList.add("is-far-next")})}function x(){const n=(c+1)%i.length;k(n)}function C(){const n=(c-1+i.length)%i.length;k(n)}function I(n){n.target.closest(".testimonials-nav")||(m=n.changedTouches[0].screenX,y=!0)}function H(n){y&&(n.target.closest(".testimonials-nav")||Math.abs(n.changedTouches[0].screenX-m)>10&&n.preventDefault())}function U(n){y&&(n.target.closest(".testimonials-nav")||(E=n.changedTouches[0].screenX,X(),y=!1))}function W(n){n.target.closest(".testimonials-nav")||(n.preventDefault(),m=n.clientX,y=!0,e.style.cursor="grabbing",document.body.style.userSelect="none")}function V(n){y&&n.preventDefault()}function _(n){y&&(E=n.clientX,X(),y=!1,e.style.cursor="grab",document.body.style.userSelect="")}function X(){const n=m-E,f=50;n>f?(x(),P()):n<-f&&(C(),P())}function G(n){S(),!(v>=0)&&(b=n.changedTouches[0].clientX,g=u,A=!0,a&&a.classList.add("is-dragging"),n.stopPropagation())}function R(n){if(!A)return;const p=n.changedTouches[0].clientX-b;u=g+p,u>d?u=d+(u-d)*.3:u<v&&(u=v+(u-v)*.3),q(),Math.abs(p)>10&&(n.preventDefault(),n.stopPropagation())}function Q(n){A&&(a&&a.classList.remove("is-dragging"),u=Math.max(v,Math.min(d,u)),q(),A=!1,n.stopPropagation())}function ee(n){S(),!(v>=0)&&(n.preventDefault(),n.stopPropagation(),b=n.clientX,g=u,A=!0,a&&a.classList.add("is-dragging"),r.style.cursor="grabbing",document.body.style.userSelect="none")}function te(n){if(!A)return;n.preventDefault(),n.stopPropagation();const p=n.clientX-b;u=g+p,u>d?u=d+(u-d)*.3:u<v&&(u=v+(u-v)*.3),q()}function K(n){A&&(n.stopPropagation(),a&&a.classList.remove("is-dragging"),u=Math.max(v,Math.min(d,u)),q(),A=!1,r.style.cursor="grab",document.body.style.userSelect="")}function ne(n){!e.matches(":hover")&&document.activeElement.closest(".testimonials-section")===null||(n.key==="ArrowLeft"?(C(),P()):n.key==="ArrowRight"&&(x(),P()))}function Y(){l||(l=setInterval(x,o))}function J(){l&&(clearInterval(l),l=null)}function N(){Y()}function P(){J(),Y()}let D;window.addEventListener("resize",()=>{clearTimeout(D),D=setTimeout(()=>{S(),h(),k(c,!1)},250)}),e.style.cursor="grab",w()}function ve(){he("#valuesAccordion",".value-header"),pe()}function he(e,t,i){const s=document.querySelector(e);if(!s)return;const a=s.querySelectorAll(t);a.forEach(r=>{r.addEventListener("click",()=>{const c=r.getAttribute("aria-expanded")==="true",l=r.nextElementSibling;a.forEach(o=>{o.setAttribute("aria-expanded","false"),o.nextElementSibling.classList.remove("is-open")}),c||(r.setAttribute("aria-expanded","true"),l.classList.add("is-open"))})})}function pe(){const e=document.querySelector("#faqAccordion");if(!e)return;const t=e.querySelectorAll(".faq-item");e.querySelectorAll(".faq-question").forEach((s,a)=>{s.addEventListener("click",()=>{const r=t[a],c=r.classList.contains("is-active");t.forEach(l=>{l.classList.remove("is-active"),l.querySelector(".faq-question").setAttribute("aria-expanded","false")}),c||(r.classList.add("is-active"),s.setAttribute("aria-expanded","true"))})})}function ge(){Le(),we(),be()}const ye={name:{validate:e=>e.trim()?e.trim().length<2?"Name must be at least 2 characters.":e.trim().length>100?"Name is too long.":null:"Please enter your name."},contact:{validate:e=>{if(!e.trim())return"Please enter your phone number or email.";const i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),s=e.replace(/[\s\-\(\)\+]/g,""),a=/^[0-9]{7,15}$/.test(s);return!i&&!a?"Please enter a valid email or phone number.":null}},message:{validate:e=>e&&e.length>2e3?"Message is too long (max 2000 characters).":null}};function ie(e,t){const i=e.closest(".swb-form-group");if(!i)return;Z(e),e.classList.add("is-error");const s=document.createElement("span");s.className="swb-field-error",s.textContent=t,i.appendChild(s)}function Z(e){const t=e.closest(".swb-form-group");if(!t)return;e.classList.remove("is-error");const i=t.querySelector(".swb-field-error");i&&i.remove()}function ae(e){const t=e.name,i=ye[t];if(!i)return!0;const s=i.validate(e.value);return s?(ie(e,s),!1):(Z(e),!0)}function Ee(e){const t=e.querySelectorAll(".swb-input, .swb-textarea");let i=!0,s=null;return t.forEach(a=>{!ae(a)&&i&&(i=!1,s=a)}),s&&s.focus(),i}function Le(){const e=document.getElementById("shareWithBalanzForm"),t=e==null?void 0:e.closest(".swb-card");if(!e||!t)return;e.querySelectorAll(".swb-input, .swb-textarea").forEach(s=>{s.addEventListener("blur",()=>{(s.value||s.dataset.touched)&&ae(s)}),s.addEventListener("focus",()=>{s.dataset.touched="true"}),s.addEventListener("input",()=>{s.classList.contains("is-error")&&Z(s)})}),e.addEventListener("submit",async s=>{var l,o,u,d;if(s.preventDefault(),!Ee(e))return;const a=new FormData(e),r=e.querySelector(".swb-submit"),c=r.innerHTML;r.disabled=!0,r.innerHTML=`
      <span>Sending...</span>
      <span class="swb-submit-spinner"></span>
    `;try{const v=new URLSearchParams;v.append("action","balanz_share_form"),v.append("nonce",((l=window.balanzData)==null?void 0:l.nonce)||""),v.append("name",a.get("name")),v.append("contact",a.get("contact")),v.append("message",a.get("message")||""),v.append("subscribe",a.get("subscribe")?"true":"false");const E=await(await fetch(((o=window.balanzData)==null?void 0:o.ajaxUrl)||"/wp-admin/admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:v.toString()})).json();if(E.success)t.classList.add("is-success"),e.reset(),e.querySelectorAll(".swb-input, .swb-textarea").forEach(y=>{y.classList.remove("is-active","is-filled","is-error"),delete y.dataset.touched}),e.querySelectorAll(".swb-field-error").forEach(y=>y.remove());else if((u=E.data)!=null&&u.errors){Object.entries(E.data.errors).forEach(([b,A])=>{const g=e.querySelector(`[name="${b}"]`);g&&ie(g,A)});const y=e.querySelector(".is-error");y&&y.focus()}else se(e,((d=E.data)==null?void 0:d.message)||"Something went wrong. Please try again.","error")}catch{se(e,"Network error. Please check your connection and try again.","error")}finally{r.disabled=!1,r.innerHTML=c}})}function se(e,t,i="error"){const s=e.querySelector(".swb-form-message");s&&s.remove();const a=document.createElement("div");a.className=`swb-form-message swb-form-message--${i}`,a.textContent=t;const r=e.querySelector(".swb-submit");r?r.parentNode.insertBefore(a,r):e.appendChild(a),setTimeout(()=>{a.remove()},5e3)}function we(){document.querySelectorAll(".swb-input-clear").forEach(t=>{t.addEventListener("click",()=>{const i=t.closest(".swb-input-wrapper"),s=i==null?void 0:i.querySelector(".swb-input");s&&(s.value="",s.classList.remove("is-filled","is-active"),Z(s),s.focus(),s.dispatchEvent(new Event("input",{bubbles:!0})))})})}function be(){document.querySelectorAll(".swb-input").forEach(t=>{t.addEventListener("focus",()=>{t.value.trim()&&t.classList.add("is-active")}),t.addEventListener("blur",()=>{t.classList.remove("is-active"),t.value.trim()?t.classList.add("is-filled"):t.classList.remove("is-filled")}),t.addEventListener("input",()=>{document.activeElement===t&&t.value.trim()?t.classList.add("is-active"):t.value.trim()||t.classList.remove("is-active")}),t.value.trim()&&t.classList.add("is-filled")})}function Se(){const e=document.querySelector(".cta-section");if(!e)return;const t=e.querySelectorAll(".cta-phone");let i=!1;new IntersectionObserver(l=>{l.forEach(o=>{o.isIntersecting&&!i&&(a(),i=!0)})},{threshold:.3,rootMargin:"0px 0px -100px 0px"}).observe(e);function a(){t.forEach((l,o)=>{const u=l.getAttribute("data-phone");let d=0;u==="left"?d=100:u==="right"?d=200:u==="center"?d=400:u==="center-right"&&(d=300),setTimeout(()=>{l.classList.add("animate-in")},d)})}let r=!1;function c(){const o=1-e.getBoundingClientRect().top/window.innerHeight;o>0&&o<1&&t.forEach(u=>{const d=u.getAttribute("data-phone");let v=0,m=0;d==="left"?v=o*20-20:d==="right"?v=-(o*20-20):d==="center"?m=o*15-15:d==="center-right"&&(v=-(o*15-15),m=o*10-10),u.classList.contains("animate-in")&&(d==="center"?u.style.transform=`translateY(${m}px) rotate(-10deg)`:d==="center-right"?u.style.transform=`translate(${v}px, calc(-50% + ${m}px))`:u.style.transform=`translate(${v}px, -50%)`)}),r=!1}window.addEventListener("scroll",()=>{!r&&i&&(window.requestAnimationFrame(c),r=!0)})}function Ae(){const e=document.getElementById("philosophyVideoContainer"),t=document.getElementById("philosophyVideo"),i=document.getElementById("playPhilosophyVideo"),s=document.getElementById("videoEmbedPlaceholder");if(!i||!e)return;const a=e.dataset.videoUrl;if(a&&s){i.addEventListener("click",c=>{c.preventDefault(),qe(a,e,i,s)});return}if(!t){i.addEventListener("click",c=>{c.preventDefault(),i.classList.add("is-hidden")});return}const r=()=>{t.paused?(t.play(),i.classList.add("is-hidden")):(t.pause(),i.classList.remove("is-hidden"))};i.addEventListener("click",c=>{c.preventDefault(),r()}),t.addEventListener("click",r),t.addEventListener("ended",()=>{i.classList.remove("is-hidden"),t.currentTime=0}),t.addEventListener("pause",()=>{i.classList.remove("is-hidden")}),t.addEventListener("play",()=>{i.classList.add("is-hidden")}),e==null||e.addEventListener("keydown",c=>{(c.key===" "||c.key==="Enter")&&(c.preventDefault(),r())})}function qe(e,t,i,s){const a=xe(e);if(!a){console.warn("Unsupported video URL:",e);return}const r=document.createElement("iframe");r.src=a,r.width="100%",r.height="100%",r.frameBorder="0",r.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",r.allowFullscreen=!0,r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.borderRadius="inherit",s.style.display="none",i.classList.add("is-hidden"),t.appendChild(r)}function xe(e){const t=e.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);if(t)return`https://www.youtube.com/embed/${t[1]}?autoplay=1&rel=0`;const i=e.match(/(?:vimeo\.com\/|player\.vimeo\.com\/video\/)(\d+)/);if(i)return`https://player.vimeo.com/video/${i[1]}?autoplay=1`;if(e.includes("youtube.com/embed/")||e.includes("player.vimeo.com/video/")){const s=e.includes("?")?"&":"?";return e+s+"autoplay=1"}return null}function Me(){const e=document.getElementById("viaSteps"),t=document.getElementById("viaImage"),i=document.getElementById("values-in-action");if(!e||!t||!i)return;const s=e.querySelectorAll(".via-step"),a=t.querySelectorAll("img");if(!s.length)return;let r=0,c=null,l=!1,o=!1;const u=6e3;function d(g){r=g,s.forEach((w,S)=>{w.classList.toggle("is-active",S===g)}),a.forEach((w,S)=>{w.classList.toggle("is-active",S===g),w.classList.toggle("is-hidden",S!==g)})}function v(){const g=(r+1)%s.length;d(g)}function m(){c&&clearInterval(c),o&&!l&&(c=setInterval(v,u))}function E(){c&&(clearInterval(c),c=null)}function y(){E(),m()}function b(){new IntersectionObserver(w=>{w.forEach(S=>{o=S.isIntersecting,o?m():E()})},{threshold:.3,rootMargin:"0px"}).observe(i)}function A(){s.forEach((g,w)=>{g.addEventListener("click",()=>{d(w),y()})}),e.addEventListener("mouseenter",()=>{l=!0,E()}),e.addEventListener("mouseleave",()=>{l=!1,m()}),t.addEventListener("mouseenter",()=>{l=!0,E()}),t.addEventListener("mouseleave",()=>{l=!1,m()}),b()}A()}function Te(){const e=document.getElementById("teamSlider");if(!e)return;let t=[];try{const n=e.dataset.members;n&&(t=JSON.parse(n))}catch(n){console.error("Team: Failed to parse members data",n);return}if(!t.length)return;const i=e.querySelector(".team-cards"),s=e.querySelector(".team-card--active"),a=e.querySelector(".team-card--back-1"),r=e.querySelector(".team-card--back-2");if(!s||!i)return;const c=Array.from(document.querySelectorAll(".team-nav-item")),l=document.querySelector(".team-nav-track"),o=document.querySelector(".team-nav"),u=t.length;let d=0,v=null,m=0,E=0,y=0,b=!1,A=0,g=0,w=0;S();function S(){const n=()=>{x(()=>{I(s,t[0]),I(a,t[L(1)]),I(r,t[L(2)]),U(),Q(),N(),q()})};document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})}):requestAnimationFrame(()=>{requestAnimationFrame(n)})}let k=null,h=0;function q(){window.ResizeObserver&&(h=s.offsetWidth,k=new ResizeObserver(n=>{for(const f of n){const p=f.contentRect.width;Math.abs(p-h)>1&&(h=p,x())}}),k.observe(s))}function L(n){return(n%u+u)%u}function x(n){const f=document.createElement("div");f.style.cssText=`
      position: absolute;
      visibility: hidden;
      pointer-events: none;
      width: ${s.offsetWidth}px;
      left: -9999px;
      top: 0;
    `,document.body.appendChild(f);const p=s.querySelector(".team-card-inner").cloneNode(!0);p.style.height="auto",f.appendChild(p);let M=0;t.forEach(T=>{const B=p.querySelector(".js-avatar"),j=p.querySelector(".js-name"),$=p.querySelector(".js-role"),F=p.querySelector(".js-quote"),O=p.querySelector(".js-bio");B&&(B.src=T.avatar),j&&(j.textContent=T.name),$&&($.textContent=T.role),F&&(F.textContent=T.quote),O&&(O.textContent=T.bio);const z=p.offsetHeight;z>M&&(M=z)}),document.body.removeChild(f),w=M+20,C(),n&&n()}function C(){[s,a,r].filter(Boolean).forEach(M=>{const T=M.querySelector(".team-card-inner");T&&(T.style.height=`${w}px`)});const p=window.innerWidth>=1024?80:35;i.style.height=`${w+p}px`}function I(n,f){if(!n||!f)return;const p=n.querySelector(".js-avatar"),M=n.querySelector(".js-name"),T=n.querySelector(".js-role"),B=n.querySelector(".js-quote"),j=n.querySelector(".js-bio"),$=n.querySelector(".js-social");p&&(p.src=f.avatar,p.alt=f.name),M&&(M.textContent=f.name),T&&(T.textContent=f.role),B&&(B.textContent=f.quote),j&&(j.textContent=f.bio),$&&($.innerHTML="",f.social&&f.social.length&&f.social.forEach(F=>{const O=document.createElement("a");O.href=F.url,O.target="_blank",O.rel="noopener",O.className="team-social-link";const z=document.createElement("img");z.src=F.icon,z.alt=F.type,O.appendChild(z),$.appendChild(O)}))}function H(){s.classList.add("is-changing"),a&&a.classList.add("is-changing"),r&&r.classList.add("is-changing"),setTimeout(()=>{I(s,t[d]),I(a,t[L(d+1)]),I(r,t[L(d+2)]),requestAnimationFrame(()=>{s.classList.remove("is-changing"),a&&a.classList.remove("is-changing"),r&&r.classList.remove("is-changing")})},200)}function U(){c.forEach((n,f)=>{n.classList.toggle("is-active",f===d)}),G()}function W(n){const f=L(n);f!==d&&(d=f,H(),U())}function V(){W(d+1)}function _(){W(d-1)}function X(){if(!l||!o)return;const n=o.offsetWidth,f=l.scrollWidth;E=0,y=Math.min(0,n-f),m=Math.max(y,Math.min(E,m))}function G(){if(!l||!o||c.length===0)return;X();const n=o.offsetWidth,f=c[d];if(!f)return;const p=f.offsetLeft,M=f.offsetWidth,T=p+M/2,B=n/2-T;m=Math.max(y,Math.min(E,B)),l.style.transform=`translateX(${m}px)`}function R(){l&&(l.style.transform=`translateX(${m}px)`)}function Q(){a&&a.addEventListener("click",()=>{V(),D()}),r&&r.addEventListener("click",()=>{W(d+2),D()}),c.forEach((f,p)=>{f.addEventListener("click",M=>{Math.abs(m-g)>5&&b||(W(p),D())})}),o&&(o.addEventListener("touchstart",ee,{passive:!0}),o.addEventListener("touchmove",te,{passive:!1}),o.addEventListener("touchend",K,{passive:!0}),o.addEventListener("mousedown",ne),document.addEventListener("mousemove",Y),document.addEventListener("mouseup",J),o.addEventListener("dragstart",f=>f.preventDefault())),document.addEventListener("keydown",f=>{e.matches(":hover")&&(f.key==="ArrowRight"&&(V(),D()),f.key==="ArrowLeft"&&(_(),D()))}),e.addEventListener("mouseenter",P),e.addEventListener("mouseleave",N);let n;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{X(),G(),window.ResizeObserver||x()},250)})}function ee(n){X(),!(y>=0)&&(A=n.changedTouches[0].clientX,g=m,b=!0,l&&l.classList.add("is-dragging"))}function te(n){if(!b)return;const p=n.changedTouches[0].clientX-A;m=g+p,m>E?m=E+(m-E)*.3:m<y&&(m=y+(m-y)*.3),R(),Math.abs(p)>10&&n.preventDefault()}function K(){b&&(l&&l.classList.remove("is-dragging"),m=Math.max(y,Math.min(E,m)),R(),b=!1)}function ne(n){X(),!(y>=0)&&(n.preventDefault(),A=n.clientX,g=m,b=!0,l&&l.classList.add("is-dragging"),o&&o.classList.add("is-grabbing"),document.body.style.userSelect="none")}function Y(n){if(!b)return;n.preventDefault();const p=n.clientX-A;m=g+p,m>E?m=E+(m-E)*.3:m<y&&(m=y+(m-y)*.3),R()}function J(){b&&(l&&l.classList.remove("is-dragging"),o&&o.classList.remove("is-grabbing"),m=Math.max(y,Math.min(E,m)),R(),setTimeout(()=>{b=!1},50),document.body.style.userSelect="")}function N(){v||(v=setInterval(V,6e3))}function P(){clearInterval(v),v=null}function D(){P(),N()}}function ke(){const e=document.querySelector(".why-section");if(!e)return;const t=e.querySelector(".food-card-1"),i=e.querySelector(".food-card-2");if(![t,i].filter(Boolean).length)return;let a=!1;new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting&&!a&&(c(),a=!0)})},{threshold:.3,rootMargin:"0px 0px -50px 0px"}).observe(e);function c(){t&&setTimeout(()=>{t.classList.add("animate-in")},100),i&&setTimeout(()=>{i.classList.add("animate-in")},250)}let l=!1;function o(){const d=1-e.getBoundingClientRect().top/window.innerHeight;if(d>0&&d<1.5){const v=d*15-15,m=d*20-20;t&&t.classList.contains("animate-in")&&(t.style.transform=`translateY(${v}px)`),i&&i.classList.contains("animate-in")&&(i.style.transform=`translateY(${m}px)`)}l=!1}window.addEventListener("scroll",()=>{!l&&a&&(window.requestAnimationFrame(o),l=!0)})}const Ie=[{name:"header",fn:oe},{name:"mobileMenu",fn:ce},{name:"scrollAnimations",fn:le},{name:"heroMarquee",fn:de},{name:"howItWorks",fn:ue},{name:"appScreens",fn:fe},{name:"testimonials",fn:me},{name:"accordion",fn:ve},{name:"share",fn:ge},{name:"cta",fn:Se},{name:"philosophyVideo",fn:Ae},{name:"valuesInAction",fn:Me},{name:"team",fn:Te},{name:"foodCards",fn:ke}];function Ce({name:e,fn:t}){try{t()}catch{}}function re(){Ie.forEach(Ce)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",re):re();window.addEventListener("load",()=>{window.dispatchEvent(new Event("scroll"))});
