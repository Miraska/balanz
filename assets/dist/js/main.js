function oe(){const e=document.getElementById("siteHeader"),n=document.querySelector(".hero-bg");if(!e)return;const a=20,s=24;if(!n){let o=function(){window.pageYOffset>50?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")};var c=o;e.style.transform=`translateY(${a}px)`,requestAnimationFrame(()=>{e.classList.add("is-ready")}),o(),window.addEventListener("scroll",o,{passive:!0});return}let r=0;function i(){const o=n.getBoundingClientRect();r=window.pageYOffset+o.top}function f(){const o=window.pageYOffset,l=r+s-o,d=Math.max(l,a);e.style.transform=`translateY(${d}px)`,d<=a?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")}i(),f(),requestAnimationFrame(()=>{e.classList.add("is-ready")}),window.addEventListener("resize",()=>{i(),f()},{passive:!0}),window.addEventListener("scroll",f,{passive:!0})}function ce(){const e=document.getElementById("menuToggle"),n=document.getElementById("mobileMenu"),a=document.querySelector(".header-inner");if(!e||!n||!a)return;function s(){const l=a.getBoundingClientRect().bottom+20;n.style.top=`${l}px`}s(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s,{passive:!0}),e.addEventListener("click",()=>{n.classList.contains("is-open")?f():i()}),n.querySelectorAll(".mobile-nav-link").forEach(c=>{c.addEventListener("click",f)}),document.addEventListener("click",c=>{!n.contains(c.target)&&!e.contains(c.target)&&f()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&f()});function i(){s(),n.classList.add("is-open"),e.classList.add("is-open"),document.body.style.overflow="hidden"}function f(){n.classList.remove("is-open"),e.classList.remove("is-open"),document.body.style.overflow=""}}function le(){const e=document.querySelectorAll(".animate-on-scroll, .animate-stagger");if(!e.length)return;const n={root:null,rootMargin:"0px 0px -50px 0px",threshold:.1},a=(r,i)=>{r.forEach(f=>{f.isIntersecting&&(f.target.classList.add("is-visible"),i.unobserve(f.target))})},s=new IntersectionObserver(a,n);e.forEach(r=>{s.observe(r)})}function de(){const e=document.querySelector(".programs-grid");if(!e)return;const n=900;let a=!1;function s(){if(window.innerWidth>n){r();return}if(a)return;const o=Array.from(e.querySelectorAll(".program-card"));if(!o.length)return;const l=document.createElement("div");l.className="marquee-track",o.forEach(d=>{l.appendChild(d)}),o.forEach(d=>{const v=d.cloneNode(!0);v.classList.add("is-clone"),v.setAttribute("aria-hidden","true"),l.appendChild(v)}),e.appendChild(l),e.classList.add("marquee-active"),a=!0}function r(){if(!a)return;const o=e.querySelector(".marquee-track");if(!o)return;o.querySelectorAll(".program-card:not(.is-clone)").forEach(d=>{e.appendChild(d)}),o.remove(),e.classList.remove("marquee-active"),a=!1}function i(){e.addEventListener("mouseenter",()=>{if(window.innerWidth<=n){const o=e.querySelector(".marquee-track");o&&(o.style.animationPlayState="paused")}}),e.addEventListener("mouseleave",()=>{if(window.innerWidth<=n){const o=e.querySelector(".marquee-track");o&&(o.style.animationPlayState="running")}})}function f(){s(),i()}let c;window.addEventListener("resize",()=>{clearTimeout(c),c=setTimeout(()=>{window.innerWidth>n?r():s()},200)}),setTimeout(f,50)}function ue(){const e=document.getElementById("hiwSteps"),n=document.getElementById("hiwImage"),a=document.getElementById("how-it-works");if(!e||!n||!a)return;const s=e.querySelectorAll(".hiw-step"),r=n.querySelectorAll("img");if(!s.length)return;let i=0,f=null,c=!1,o=!1;const l=6e3;function d(g){i=g,s.forEach((w,b)=>{w.classList.toggle("is-active",b===g)}),r.forEach((w,b)=>{w.classList.toggle("is-active",b===g),w.classList.toggle("is-hidden",b!==g)})}function v(){const g=(i+1)%s.length;d(g)}function m(){f&&clearInterval(f),o&&!c&&(f=setInterval(v,l))}function E(){f&&(clearInterval(f),f=null)}function y(){E(),m()}function S(){new IntersectionObserver(w=>{w.forEach(b=>{o=b.isIntersecting,o?m():E()})},{threshold:.3,rootMargin:"0px"}).observe(a)}function A(){s.forEach((g,w)=>{g.addEventListener("click",()=>{d(w),y()})}),e.addEventListener("mouseenter",()=>{c=!0,E()}),e.addEventListener("mouseleave",()=>{c=!1,m()}),n.addEventListener("mouseenter",()=>{c=!0,E()}),n.addEventListener("mouseleave",()=>{c=!1,m()}),S()}A()}function fe(){const e=document.querySelector(".app-showcase"),n=document.querySelectorAll(".phone-screen"),a=document.querySelectorAll(".screen-cards");document.querySelectorAll(".feature-card, .feature-badge");const s=document.querySelector(".app-nav-btn.prev-btn"),r=document.querySelector(".app-nav-btn.next-btn");if(!e||!n.length)return;let i=1;const f=3;function c(){const q=Array.from(n).map(L=>L.querySelector("img")).map(L=>new Promise(x=>{L.complete?x():(L.addEventListener("load",x),L.addEventListener("error",x))}));Promise.all(q).then(()=>{e.style.opacity="1"})}e.style.opacity="0",e.style.transition="opacity 0.3s ease",c();function o(h,q=!0){h<1||h>f||h!==i&&(i=h,e.setAttribute("data-active-screen",h),n.forEach(L=>{parseInt(L.dataset.screen)===h?L.classList.add("active"):L.classList.remove("active")}),a.forEach(L=>{parseInt(L.dataset.screenCards)===h?L.classList.add("active"):L.classList.remove("active")}),l())}function l(){s&&(s.disabled=i===1),r&&(r.disabled=i===f)}function d(){i<f&&o(i+1)}function v(){i>1&&o(i-1)}function m(h,q){const L=document.createElement("span"),x=h.getBoundingClientRect(),C=Math.max(x.width,x.height),I=q.clientX-x.left-C/2,H=q.clientY-x.top-C/2;L.style.cssText=`
      position: absolute;
      width: ${C}px;
      height: ${C}px;
      left: ${I}px;
      top: ${H}px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      transform: scale(0);
      animation: ripple 0.6s ease-out;
      pointer-events: none;
    `,h.style.position="relative",h.style.overflow="hidden",h.appendChild(L),setTimeout(()=>L.remove(),600)}s&&s.addEventListener("click",h=>{m(s,h),v()}),r&&r.addEventListener("click",h=>{m(r,h),d()});let E=!1;new IntersectionObserver(h=>{h.forEach(q=>{E=q.isIntersecting})},{threshold:.3}).observe(e),document.addEventListener("keydown",h=>{E&&(h.key==="ArrowLeft"||h.key==="ArrowUp"?(h.preventDefault(),v()):h.key==="ArrowRight"||h.key==="ArrowDown"?(h.preventDefault(),d()):h.key>="1"&&h.key<="3"&&(h.preventDefault(),o(parseInt(h.key))))});let S=0,A=0,g=0,w=0;e.addEventListener("touchstart",h=>{S=h.changedTouches[0].screenX,A=h.changedTouches[0].screenY},{passive:!0}),e.addEventListener("touchend",h=>{g=h.changedTouches[0].screenX,w=h.changedTouches[0].screenY,b()},{passive:!0});function b(){const q=S-g,L=A-w;Math.abs(q)>Math.abs(L)&&Math.abs(q)>50&&(q>0?d():v())}const k=document.createElement("style");k.textContent=`
    @keyframes ripple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }
  `,document.head.appendChild(k),o(1,!1)}function me(){const e=document.getElementById("testimonialsSlider");if(!e)return;const n=e.querySelector(".testimonials-slides"),a=Array.from(e.querySelectorAll(".testimonial-slide")),s=Array.from(document.querySelectorAll(".testimonial-nav-item")),r=document.querySelector(".testimonials-nav-track"),i=document.querySelector(".testimonials-nav");if(!a.length)return;let f=Math.floor(a.length/2),c=null;const o=6e3;let l=0,d=0,v=0,m=0,E=0,y=!1,S=0,A=!1,g=0;function w(){k(f,!1),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.mozUserSelect="none",n.style.msUserSelect="none",s.forEach((t,u)=>{t.addEventListener("click",()=>{k(u),X()})}),e.addEventListener("touchstart",I,{passive:!0}),e.addEventListener("touchmove",H,{passive:!1}),e.addEventListener("touchend",U,{passive:!0}),e.addEventListener("mousedown",W),e.addEventListener("mousemove",N),e.addEventListener("mouseup",_),e.addEventListener("mouseleave",_),i&&(i.addEventListener("touchstart",G,{passive:!0}),i.addEventListener("touchmove",F,{passive:!1}),i.addEventListener("touchend",Z,{passive:!0}),i.addEventListener("mousedown",ee),i.addEventListener("mousemove",te),i.addEventListener("mouseup",K),i.addEventListener("mouseleave",K),i.style.cursor="grab"),e.addEventListener("dragstart",t=>t.preventDefault()),i&&i.addEventListener("dragstart",t=>t.preventDefault()),document.addEventListener("keydown",ne),V(),e.addEventListener("mouseenter",J),e.addEventListener("mouseleave",j),b()}function b(){if(!r||!i)return;const t=i.offsetWidth,u=r.scrollWidth;d=0,v=Math.min(0,t-u),l=Math.max(v,Math.min(d,l))}function k(t,u=!0){f=t,L(),s.forEach((p,T)=>{p.classList.toggle("is-active",T===t)}),h()}function h(){if(!r||!i||s.length===0)return;b();const t=i.offsetWidth,u=s[f];if(!u)return;const p=u.offsetLeft,T=u.offsetWidth,M=p+T/2,B=t/2-M;l=Math.max(v,Math.min(d,B)),r.style.transform=`translateX(${l}px)`}function q(){r&&(r.style.transform=`translateX(${l}px)`)}function L(){a.forEach((t,u)=>{t.classList.remove("is-active","is-prev","is-next","is-far-prev","is-far-next");const p=u-f;p===0?t.classList.add("is-active"):p===-1||f===0&&u===a.length-1?t.classList.add("is-prev"):p===1||f===a.length-1&&u===0?t.classList.add("is-next"):p<-1?t.classList.add("is-far-prev"):p>1&&t.classList.add("is-far-next")})}function x(){const t=(f+1)%a.length;k(t)}function C(){const t=(f-1+a.length)%a.length;k(t)}function I(t){t.target.closest(".testimonials-nav")||(m=t.changedTouches[0].screenX,y=!0)}function H(t){y&&(t.target.closest(".testimonials-nav")||Math.abs(t.changedTouches[0].screenX-m)>10&&t.preventDefault())}function U(t){y&&(t.target.closest(".testimonials-nav")||(E=t.changedTouches[0].screenX,P(),y=!1))}function W(t){t.target.closest(".testimonials-nav")||(t.preventDefault(),m=t.clientX,y=!0,e.style.cursor="grabbing",document.body.style.userSelect="none")}function N(t){y&&t.preventDefault()}function _(t){y&&(E=t.clientX,P(),y=!1,e.style.cursor="grab",document.body.style.userSelect="")}function P(){const t=m-E,u=50;t>u?(x(),X()):t<-u&&(C(),X())}function G(t){b(),!(v>=0)&&(S=t.changedTouches[0].clientX,g=l,A=!0,r&&r.classList.add("is-dragging"),t.stopPropagation())}function F(t){if(!A)return;const p=t.changedTouches[0].clientX-S;l=g+p,l>d?l=d+(l-d)*.3:l<v&&(l=v+(l-v)*.3),q(),Math.abs(p)>10&&(t.preventDefault(),t.stopPropagation())}function Z(t){A&&(r&&r.classList.remove("is-dragging"),l=Math.max(v,Math.min(d,l)),q(),A=!1,t.stopPropagation())}function ee(t){b(),!(v>=0)&&(t.preventDefault(),t.stopPropagation(),S=t.clientX,g=l,A=!0,r&&r.classList.add("is-dragging"),i.style.cursor="grabbing",document.body.style.userSelect="none")}function te(t){if(!A)return;t.preventDefault(),t.stopPropagation();const p=t.clientX-S;l=g+p,l>d?l=d+(l-d)*.3:l<v&&(l=v+(l-v)*.3),q()}function K(t){A&&(t.stopPropagation(),r&&r.classList.remove("is-dragging"),l=Math.max(v,Math.min(d,l)),q(),A=!1,i.style.cursor="grab",document.body.style.userSelect="")}function ne(t){!e.matches(":hover")&&document.activeElement.closest(".testimonials-section")===null||(t.key==="ArrowLeft"?(C(),X()):t.key==="ArrowRight"&&(x(),X()))}function V(){c||(c=setInterval(x,o))}function J(){c&&(clearInterval(c),c=null)}function j(){V()}function X(){J(),V()}let D;window.addEventListener("resize",()=>{clearTimeout(D),D=setTimeout(()=>{b(),h(),k(f,!1)},250)}),e.style.cursor="grab",w()}function ve(){he("#valuesAccordion",".value-header"),pe()}function he(e,n,a){const s=document.querySelector(e);if(!s)return;const r=s.querySelectorAll(n);r.forEach(i=>{i.addEventListener("click",()=>{const f=i.getAttribute("aria-expanded")==="true",c=i.nextElementSibling;r.forEach(o=>{o.setAttribute("aria-expanded","false"),o.nextElementSibling.classList.remove("is-open")}),f||(i.setAttribute("aria-expanded","true"),c.classList.add("is-open"))})})}function pe(){const e=document.querySelector("#faqAccordion");if(!e)return;const n=e.querySelectorAll(".faq-item");e.querySelectorAll(".faq-question").forEach((s,r)=>{s.addEventListener("click",()=>{const i=n[r],f=i.classList.contains("is-active");n.forEach(c=>{c.classList.remove("is-active"),c.querySelector(".faq-question").setAttribute("aria-expanded","false")}),f||(i.classList.add("is-active"),s.setAttribute("aria-expanded","true"))})})}function ge(){Le(),we(),Se()}const ye={name:{validate:e=>e.trim()?e.trim().length<2?"Name must be at least 2 characters.":e.trim().length>100?"Name is too long.":null:"Please enter your name."},contact:{validate:e=>{if(!e.trim())return"Please enter your phone number or email.";const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),s=e.replace(/[\s\-\(\)\+]/g,""),r=/^[0-9]{7,15}$/.test(s);return!a&&!r?"Please enter a valid email or phone number.":null}},message:{validate:e=>e&&e.length>2e3?"Message is too long (max 2000 characters).":null}};function ie(e,n){const a=e.closest(".swb-form-group");if(!a)return;Q(e),e.classList.add("is-error");const s=document.createElement("span");s.className="swb-field-error",s.textContent=n,a.appendChild(s)}function Q(e){const n=e.closest(".swb-form-group");if(!n)return;e.classList.remove("is-error");const a=n.querySelector(".swb-field-error");a&&a.remove()}function ae(e){const n=e.name,a=ye[n];if(!a)return!0;const s=a.validate(e.value);return s?(ie(e,s),!1):(Q(e),!0)}function Ee(e){const n=e.querySelectorAll(".swb-input, .swb-textarea");let a=!0,s=null;return n.forEach(r=>{!ae(r)&&a&&(a=!1,s=r)}),s&&s.focus(),a}function Le(){const e=document.getElementById("shareWithBalanzForm"),n=e==null?void 0:e.closest(".swb-card");if(!e||!n)return;e.querySelectorAll(".swb-input, .swb-textarea").forEach(s=>{s.addEventListener("blur",()=>{(s.value||s.dataset.touched)&&ae(s)}),s.addEventListener("focus",()=>{s.dataset.touched="true"}),s.addEventListener("input",()=>{s.classList.contains("is-error")&&Q(s)})}),e.addEventListener("submit",async s=>{var c,o,l,d;if(s.preventDefault(),!Ee(e))return;const r=new FormData(e),i=e.querySelector(".swb-submit"),f=i.innerHTML;i.disabled=!0,i.innerHTML=`
      <span>Sending...</span>
      <span class="swb-submit-spinner"></span>
    `;try{const v=new URLSearchParams;v.append("action","balanz_share_form"),v.append("nonce",((c=window.balanzData)==null?void 0:c.nonce)||""),v.append("name",r.get("name")),v.append("contact",r.get("contact")),v.append("message",r.get("message")||""),v.append("subscribe",r.get("subscribe")?"true":"false");const E=await(await fetch(((o=window.balanzData)==null?void 0:o.ajaxUrl)||"/wp-admin/admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:v.toString()})).json();if(E.success)n.classList.add("is-success"),e.reset(),e.querySelectorAll(".swb-input, .swb-textarea").forEach(y=>{y.classList.remove("is-active","is-filled","is-error"),delete y.dataset.touched}),e.querySelectorAll(".swb-field-error").forEach(y=>y.remove());else if((l=E.data)!=null&&l.errors){Object.entries(E.data.errors).forEach(([S,A])=>{const g=e.querySelector(`[name="${S}"]`);g&&ie(g,A)});const y=e.querySelector(".is-error");y&&y.focus()}else se(e,((d=E.data)==null?void 0:d.message)||"Something went wrong. Please try again.","error")}catch(v){console.error("Form submission error:",v),se(e,"Network error. Please check your connection and try again.","error")}finally{i.disabled=!1,i.innerHTML=f}})}function se(e,n,a="error"){const s=e.querySelector(".swb-form-message");s&&s.remove();const r=document.createElement("div");r.className=`swb-form-message swb-form-message--${a}`,r.textContent=n;const i=e.querySelector(".swb-submit");i?i.parentNode.insertBefore(r,i):e.appendChild(r),setTimeout(()=>{r.remove()},5e3)}function we(){document.querySelectorAll(".swb-input-clear").forEach(n=>{n.addEventListener("click",()=>{const a=n.closest(".swb-input-wrapper"),s=a==null?void 0:a.querySelector(".swb-input");s&&(s.value="",s.classList.remove("is-filled","is-active"),Q(s),s.focus(),s.dispatchEvent(new Event("input",{bubbles:!0})))})})}function Se(){document.querySelectorAll(".swb-input").forEach(n=>{n.addEventListener("focus",()=>{n.value.trim()&&n.classList.add("is-active")}),n.addEventListener("blur",()=>{n.classList.remove("is-active"),n.value.trim()?n.classList.add("is-filled"):n.classList.remove("is-filled")}),n.addEventListener("input",()=>{document.activeElement===n&&n.value.trim()?n.classList.add("is-active"):n.value.trim()||n.classList.remove("is-active")}),n.value.trim()&&n.classList.add("is-filled")})}function be(){const e=document.querySelector(".cta-section");if(!e)return;const n=e.querySelectorAll(".cta-phone");let a=!1;new IntersectionObserver(c=>{c.forEach(o=>{o.isIntersecting&&!a&&(r(),a=!0)})},{threshold:.3,rootMargin:"0px 0px -100px 0px"}).observe(e);function r(){n.forEach((c,o)=>{const l=c.getAttribute("data-phone");let d=0;l==="left"?d=100:l==="right"?d=200:l==="center"?d=400:l==="center-right"&&(d=300),setTimeout(()=>{c.classList.add("animate-in")},d)})}let i=!1;function f(){const o=1-e.getBoundingClientRect().top/window.innerHeight;o>0&&o<1&&n.forEach(l=>{const d=l.getAttribute("data-phone");let v=0,m=0;d==="left"?v=o*20-20:d==="right"?v=-(o*20-20):d==="center"?m=o*15-15:d==="center-right"&&(v=-(o*15-15),m=o*10-10),l.classList.contains("animate-in")&&(d==="center"?l.style.transform=`translateY(${m}px) rotate(-10deg)`:d==="center-right"?l.style.transform=`translate(${v}px, calc(-50% + ${m}px))`:l.style.transform=`translate(${v}px, -50%)`)}),i=!1}window.addEventListener("scroll",()=>{!i&&a&&(window.requestAnimationFrame(f),i=!0)})}function Ae(){const e=document.getElementById("philosophyVideoContainer"),n=document.getElementById("philosophyVideo"),a=document.getElementById("playPhilosophyVideo");if(!n||!a)return;const s=()=>{n.paused?(n.play(),a.classList.add("is-hidden")):(n.pause(),a.classList.remove("is-hidden"))};a.addEventListener("click",r=>{r.preventDefault(),s()}),n.addEventListener("click",s),n.addEventListener("ended",()=>{a.classList.remove("is-hidden"),n.currentTime=0}),n.addEventListener("pause",()=>{a.classList.remove("is-hidden")}),n.addEventListener("play",()=>{a.classList.add("is-hidden")}),e==null||e.addEventListener("keydown",r=>{(r.key===" "||r.key==="Enter")&&(r.preventDefault(),s())})}function qe(){const e=document.getElementById("viaSteps"),n=document.getElementById("viaImage"),a=document.getElementById("values-in-action");if(!e||!n||!a)return;const s=e.querySelectorAll(".via-step"),r=n.querySelectorAll("img");if(!s.length)return;let i=0,f=null,c=!1,o=!1;const l=6e3;function d(g){i=g,s.forEach((w,b)=>{w.classList.toggle("is-active",b===g)}),r.forEach((w,b)=>{w.classList.toggle("is-active",b===g),w.classList.toggle("is-hidden",b!==g)})}function v(){const g=(i+1)%s.length;d(g)}function m(){f&&clearInterval(f),o&&!c&&(f=setInterval(v,l))}function E(){f&&(clearInterval(f),f=null)}function y(){E(),m()}function S(){new IntersectionObserver(w=>{w.forEach(b=>{o=b.isIntersecting,o?m():E()})},{threshold:.3,rootMargin:"0px"}).observe(a)}function A(){s.forEach((g,w)=>{g.addEventListener("click",()=>{d(w),y()})}),e.addEventListener("mouseenter",()=>{c=!0,E()}),e.addEventListener("mouseleave",()=>{c=!1,m()}),n.addEventListener("mouseenter",()=>{c=!0,E()}),n.addEventListener("mouseleave",()=>{c=!1,m()}),S()}A()}function xe(){const e=document.getElementById("teamSlider");if(!e)return;let n=[];try{const t=e.dataset.members;t&&(n=JSON.parse(t))}catch(t){console.error("Team: Failed to parse members data",t);return}if(!n.length)return;const a=e.querySelector(".team-cards"),s=e.querySelector(".team-card--active"),r=e.querySelector(".team-card--back-1"),i=e.querySelector(".team-card--back-2");if(!s||!a)return;const f=Array.from(document.querySelectorAll(".team-nav-item")),c=document.querySelector(".team-nav-track"),o=document.querySelector(".team-nav"),l=n.length;let d=0,v=null,m=0,E=0,y=0,S=!1,A=0,g=0,w=0;b();function b(){const t=()=>{x(()=>{I(s,n[0]),I(r,n[L(1)]),I(i,n[L(2)]),U(),Z(),j(),q()})};document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{requestAnimationFrame(()=>{requestAnimationFrame(t)})}):requestAnimationFrame(()=>{requestAnimationFrame(t)})}let k=null,h=0;function q(){window.ResizeObserver&&(h=s.offsetWidth,k=new ResizeObserver(t=>{for(const u of t){const p=u.contentRect.width;Math.abs(p-h)>1&&(h=p,x())}}),k.observe(s))}function L(t){return(t%l+l)%l}function x(t){const u=document.createElement("div");u.style.cssText=`
      position: absolute;
      visibility: hidden;
      pointer-events: none;
      width: ${s.offsetWidth}px;
      left: -9999px;
      top: 0;
    `,document.body.appendChild(u);const p=s.querySelector(".team-card-inner").cloneNode(!0);p.style.height="auto",u.appendChild(p);let T=0;n.forEach(M=>{const B=p.querySelector(".js-avatar"),Y=p.querySelector(".js-name"),R=p.querySelector(".js-role"),$=p.querySelector(".js-quote"),O=p.querySelector(".js-bio");B&&(B.src=M.avatar),Y&&(Y.textContent=M.name),R&&(R.textContent=M.role),$&&($.textContent=M.quote),O&&(O.textContent=M.bio);const z=p.offsetHeight;z>T&&(T=z)}),document.body.removeChild(u),w=T+20,C(),t&&t()}function C(){[s,r,i].filter(Boolean).forEach(T=>{const M=T.querySelector(".team-card-inner");M&&(M.style.height=`${w}px`)});const p=window.innerWidth>=1024?80:35;a.style.height=`${w+p}px`}function I(t,u){if(!t||!u)return;const p=t.querySelector(".js-avatar"),T=t.querySelector(".js-name"),M=t.querySelector(".js-role"),B=t.querySelector(".js-quote"),Y=t.querySelector(".js-bio"),R=t.querySelector(".js-social");p&&(p.src=u.avatar,p.alt=u.name),T&&(T.textContent=u.name),M&&(M.textContent=u.role),B&&(B.textContent=u.quote),Y&&(Y.textContent=u.bio),R&&(R.innerHTML="",u.social&&u.social.length&&u.social.forEach($=>{const O=document.createElement("a");O.href=$.url,O.target="_blank",O.rel="noopener",O.className="team-social-link";const z=document.createElement("img");z.src=$.icon,z.alt=$.type,O.appendChild(z),R.appendChild(O)}))}function H(){s.classList.add("is-changing"),r&&r.classList.add("is-changing"),i&&i.classList.add("is-changing"),setTimeout(()=>{I(s,n[d]),I(r,n[L(d+1)]),I(i,n[L(d+2)]),requestAnimationFrame(()=>{s.classList.remove("is-changing"),r&&r.classList.remove("is-changing"),i&&i.classList.remove("is-changing")})},200)}function U(){f.forEach((t,u)=>{t.classList.toggle("is-active",u===d)}),G()}function W(t){const u=L(t);u!==d&&(d=u,H(),U())}function N(){W(d+1)}function _(){W(d-1)}function P(){if(!c||!o)return;const t=o.offsetWidth,u=c.scrollWidth;E=0,y=Math.min(0,t-u),m=Math.max(y,Math.min(E,m))}function G(){if(!c||!o||f.length===0)return;P();const t=o.offsetWidth,u=f[d];if(!u)return;const p=u.offsetLeft,T=u.offsetWidth,M=p+T/2,B=t/2-M;m=Math.max(y,Math.min(E,B)),c.style.transform=`translateX(${m}px)`}function F(){c&&(c.style.transform=`translateX(${m}px)`)}function Z(){r&&r.addEventListener("click",()=>{N(),D()}),i&&i.addEventListener("click",()=>{W(d+2),D()}),f.forEach((u,p)=>{u.addEventListener("click",T=>{Math.abs(m-g)>5&&S||(W(p),D())})}),o&&(o.addEventListener("touchstart",ee,{passive:!0}),o.addEventListener("touchmove",te,{passive:!1}),o.addEventListener("touchend",K,{passive:!0}),o.addEventListener("mousedown",ne),document.addEventListener("mousemove",V),document.addEventListener("mouseup",J),o.addEventListener("dragstart",u=>u.preventDefault())),document.addEventListener("keydown",u=>{e.matches(":hover")&&(u.key==="ArrowRight"&&(N(),D()),u.key==="ArrowLeft"&&(_(),D()))}),e.addEventListener("mouseenter",X),e.addEventListener("mouseleave",j);let t;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{P(),G(),window.ResizeObserver||x()},250)})}function ee(t){P(),!(y>=0)&&(A=t.changedTouches[0].clientX,g=m,S=!0,c&&c.classList.add("is-dragging"))}function te(t){if(!S)return;const p=t.changedTouches[0].clientX-A;m=g+p,m>E?m=E+(m-E)*.3:m<y&&(m=y+(m-y)*.3),F(),Math.abs(p)>10&&t.preventDefault()}function K(){S&&(c&&c.classList.remove("is-dragging"),m=Math.max(y,Math.min(E,m)),F(),S=!1)}function ne(t){P(),!(y>=0)&&(t.preventDefault(),A=t.clientX,g=m,S=!0,c&&c.classList.add("is-dragging"),o&&o.classList.add("is-grabbing"),document.body.style.userSelect="none")}function V(t){if(!S)return;t.preventDefault();const p=t.clientX-A;m=g+p,m>E?m=E+(m-E)*.3:m<y&&(m=y+(m-y)*.3),F()}function J(){S&&(c&&c.classList.remove("is-dragging"),o&&o.classList.remove("is-grabbing"),m=Math.max(y,Math.min(E,m)),F(),setTimeout(()=>{S=!1},50),document.body.style.userSelect="")}function j(){v||(v=setInterval(N,6e3))}function X(){clearInterval(v),v=null}function D(){X(),j()}}function re(){oe(),ce(),le(),de(),ue(),fe(),me(),ve(),ge(),be(),Ae(),qe(),xe()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",re):re();window.addEventListener("load",()=>{window.dispatchEvent(new Event("scroll"))});
